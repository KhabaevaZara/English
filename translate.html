<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Миссия: Лингвистический Шпион</title>
    <style>
        :root {
            --primary: #4a6fa5;
            --secondary: #166088;
            --accent: #4fc3f7;
            --dark: #0a1128;
            --light: #f8f9fa;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            background-image: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        header {
            text-align: center;
            margin-bottom: 2rem;
            animation: fadeIn 1s ease-in-out;
        }
        
        h1 {
            color: var(--secondary);
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .subtitle {
            color: var(--primary);
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        .mission-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: slideUp 0.8s ease-in-out;
        }
        
        .mission-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .mission-title {
            color: var(--secondary);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 0.5rem;
            display: inline-block;
        }
        
        .text-display {
            background-color: #f0f4f8;
            border-left: 4px solid var(--primary);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 0 8px 8px 0;
            position: relative;
            animation: fadeIn 1s ease-in-out;
        }
        
        .text-display::before {
            content: '"';
            font-size: 4rem;
            color: var(--accent);
            opacity: 0.2;
            position: absolute;
            top: -1rem;
            left: 0.5rem;
        }
        
        .original-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--dark);
        }
        
        .hint-btn {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            font-weight: 500;
        }
        
        .hint-btn:hover {
            background-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .hint-btn i {
            margin-right: 0.5rem;
        }
        
        .hint-box {
            background-color: #fff9c4;
            border-left: 4px solid var(--warning);
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0 8px 8px 0;
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .hint-box.show {
            display: block;
        }
        
        .translation-section {
            margin-top: 2rem;
            animation: fadeIn 1s ease-in-out;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 1rem;
            border-bottom: 1px solid #ddd;
        }
        
        .tab {
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            background: #f1f1f1;
            border: none;
            border-radius: 5px 5px 0 0;
            margin-right: 0.5rem;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .tab.active {
            background: var(--primary);
            color: white;
        }
        
        .tab:hover:not(.active) {
            background: #ddd;
        }
        
        .tab-content {
            display: none;
            padding: 1.5rem;
            background: white;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .tab-content.active {
            display: block;
        }
        
        textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            min-height: 150px;
            font-size: 1rem;
            resize: vertical;
            transition: border 0.3s ease;
            margin-bottom: 1rem;
        }
        
        textarea:focus {
            border-color: var(--accent);
            outline: none;
            box-shadow: 0 0 0 3px rgba(79, 195, 247, 0.2);
        }
        
        .audience-selector {
            margin: 1.5rem 0;
        }
        
        .audience-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--secondary);
        }
        
        .audience-options {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .audience-btn {
            padding: 0.5rem 1rem;
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .audience-btn:hover {
            background: #bbdefb;
        }
        
        .audience-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .btn {
            padding: 0.8rem 1.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            margin-right: 0.5rem;
        }
        
        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .btn i {
            margin-right: 0.5rem;
        }
        
        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }
        
        .btn-secondary:hover {
            background: #bdbdbd;
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .btn-success:hover {
            background: #388e3c;
        }
        
        .error-examples {
            background: #ffebee;
            border-left: 4px solid var(--danger);
            padding: 1.5rem;
            margin-top: 2rem;
            border-radius: 0 8px 8px 0;
            animation: fadeIn 1s ease-in-out;
        }
        
        .error-title {
            color: var(--danger);
            font-size: 1.2rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .error-title i {
            margin-right: 0.5rem;
        }
        
        .error-item {
            margin-bottom: 1rem;
        }
        
        .error-original {
            font-weight: 600;
        }
        
        .error-incorrect {
            color: var(--danger);
            text-decoration: line-through;
        }
        
        .error-correct {
            color: var(--success);
            font-weight: 600;
        }
        
        .hidden {
            display: none;
        }
        
        .success-message {
            background: #e8f5e9;
            border-left: 4px solid var(--success);
            padding: 1.5rem;
            margin-top: 2rem;
            border-radius: 0 8px 8px 0;
            text-align: center;
            animation: fadeIn 1s ease-in-out;
        }
        
        .success-message h3 {
            color: var(--success);
            margin-bottom: 1rem;
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1000;
            animation: confettiFall 3s linear forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes confettiFall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        footer {
            text-align: center;
            margin-top: 3rem;
            color: #666;
            font-size: 0.9rem;
            animation: fadeIn 1s ease-in-out;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .mission-card {
                padding: 1.5rem;
            }
            
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                margin-bottom: 0.5rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Миссия: Лингвистический Шпион</h1>
            <p class="subtitle">Разгадайте скрытые смыслы и выполните переводческую миссию!</p>
        </header>
        
        <div class="mission-card">
            <h2 class="mission-title">Этап 1: Разведка (Анализ текста)</h2>
            <div class="text-display">
                <p class="original-text" id="originalText">Loading mission...</p>
            </div>
            <button class="hint-btn" id="hintBtn">
                <i class="fas fa-lightbulb"></i> Показать подсказки
            </button>
            <div class="hint-box" id="hintBox">
                <p><strong>Подозрительные элементы:</strong></p>
                <ul id="hintList"></ul>
            </div>
        </div>
        
        <div class="mission-card">
            <h2 class="mission-title">Этап 2: Буквальный vs Креативный перевод</h2>
            
            <div class="tabs">
                <button class="tab active" data-tab="literal">Буквальный перевод</button>
                <button class="tab" data-tab="creative">Креативный перевод</button>
            </div>
            
            <div class="tab-content active" id="literal">
                <p>Сделайте дословный перевод (как в Google Translate, с возможными ошибками):</p>
                <textarea id="literalTranslation" placeholder="Введите ваш буквальный перевод здесь..."></textarea>
            </div>
            
            <div class="tab-content" id="creative">
                <p>Сделайте адаптированный перевод (как для живого человека, с сохранением смысла):</p>
                <textarea id="creativeTranslation" placeholder="Введите ваш креативный перевод здесь..."></textarea>
            </div>
            
            <div class="audience-selector">
                <p class="audience-title">Этап 3: Локализация (выберите целевую аудиторию):</p>
                <div class="audience-options">
                    <button class="audience-btn" data-audience="teen">Для подростков</button>
                    <button class="audience-btn" data-audience="business">Для бизнеса</button>
                    <button class="audience-btn" data-audience="subtitles">Для субтитров</button>
                </div>
            </div>
            
            <div class="actions">
                <button class="btn btn-success" id="submitBtn">
                    <i class="fas fa-paper-plane"></i> Отправить миссию
                </button>
                <button class="btn btn-secondary" id="nextBtn" style="display: none;">
                    <i class="fas fa-forward"></i> Следующая миссия
                </button>
            </div>
        </div>
        
        <div class="error-examples">
            <h3 class="error-title"><i class="fas fa-exclamation-triangle"></i> Проваленные миссии (разбор ошибок)</h3>
            <div class="error-item">
                <p class="error-original">Original: "It's raining cats and dogs"</p>
                <p class="error-incorrect">Неправильно: "На улице дождь из кошек и собак"</p>
                <p class="error-correct">Правильно: "Льёт как из ведра"</p>
            </div>
            <div class="error-item">
                <p class="error-original">Original: "He's a couch potato"</p>
                <p class="error-incorrect">Неправильно: "Он диванная картошка"</p>
                <p class="error-correct">Правильно: "Он лентяй и домосед"</p>
            </div>
            <div class="error-item">
                <p class="error-original">Original: "That's a piece of cake"</p>
                <p class="error-incorrect">Неправильно: "Это кусок торта"</p>
                <p class="error-correct">Правильно: "Это проще простого"</p>
            </div>
        </div>
        
        <div class="success-message hidden" id="successMessage">
            <h3><i class="fas fa-check-circle"></i> Миссия выполнена успешно!</h3>
            <p>Отличная работа, агент! Ваш перевод соответствует всем требованиям.</p>
            <p>Переходите к следующему заданию или проанализируйте свои результаты.</p>
        </div>
        
        <footer>
            <p>Лингвистическая миссия &copy; 2023 | Агентский департамент переводов</p>
        </footer>
    </div>

    <script>
        // База данных с текстами для перевода и подсказками
        const missions = [
            {
                text: "Break a leg on your performance tonight!",
                hints: [
                    "Идиома: 'Break a leg' — это пожелание удачи, особенно в театральной среде",
                    "Фразовый глагол: 'break' здесь не означает буквально 'ломать'",
                    "Контекст: речь идёт о выступлении (performance)"
                ],
                literalExample: "Сломай ногу на твоём выступлении сегодня вечером!",
                creativeExample: "Ни пуха ни пера на твоём выступлении сегодня!"
            },
            {
                text: "This new software is a game changer for our industry.",
                hints: [
                    "Идиома: 'game changer' — означает нечто, что кардинально меняет правила игры",
                    "Метафора: сравнение с игрой (game)",
                    "Контекст: речь идёт о программном обеспечении и его влиянии на индустрию"
                ],
                literalExample: "Это новое программное обеспечение это менятель игры для нашей индустрии.",
                creativeExample: "Это новое ПО кардинально изменит нашу отрасль."
            },
            {
                text: "I'm feeling under the weather today, so I'll work from home.",
                hints: [
                    "Идиома: 'under the weather' — означает плохое самочувствие, недомогание",
                    "Фразовый глагол: 'work from' — работать откуда-то",
                    "Контекст: объяснение причины работы из дома"
                ],
                literalExample: "Я чувствую себя под погодой сегодня, поэтому я буду работать из дома.",
                creativeExample: "Я сегодня неважно себя чувствую, поэтому поработаю из дома."
            },
            {
                text: "Let's table this discussion for now and circle back to it next week.",
                hints: [
                    "Деловой жаргон: 'table' (в американском английском) — отложить обсуждение",
                    "Деловой жаргон: 'circle back' — вернуться к теме позже",
                    "Контекст: перенос обсуждения на более поздний срок"
                ],
                literalExample: "Давайте поставим этот разговор на стол сейчас и обведём обратно к нему на следующей неделе.",
                creativeExample: "Давайте пока отложим это обсуждение и вернёмся к нему на следующей неделе."
            },
            {
                text: "The marketing campaign went viral and broke the internet!",
                hints: [
                    "Сленг: 'went viral' — стал очень популярным в интернете",
                    "Гипербола: 'broke the internet' — преувеличение, означающее огромный успех",
                    "Контекст: речь о маркетинговой кампании и её успехе"
                ],
                literalExample: "Маркетинговая кампания пошла вирусной и сломала интернет!",
                creativeExample: "Рекламная кампания стала вирусной и взорвала интернет!"
            }
        ];
        
        // Текущая миссия
        let currentMission = 0;
        let selectedAudience = null;
        
        // DOM элементы
        const originalTextEl = document.getElementById('originalText');
        const hintBtn = document.getElementById('hintBtn');
        const hintBox = document.getElementById('hintBox');
        const hintList = document.getElementById('hintList');
        const literalTranslation = document.getElementById('literalTranslation');
        const creativeTranslation = document.getElementById('creativeTranslation');
        const submitBtn = document.getElementById('submitBtn');
        const nextBtn = document.getElementById('nextBtn');
        const successMessage = document.getElementById('successMessage');
        const audienceBtns = document.querySelectorAll('.audience-btn');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', () => {
            loadMission(currentMission);
            
            // Обработчики событий
            hintBtn.addEventListener('click', toggleHints);
            submitBtn.addEventListener('click', submitMission);
            nextBtn.addEventListener('click', nextMission);
            
            // Обработчики для аудитории
            audienceBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    audienceBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    selectedAudience = btn.dataset.audience;
                });
            });
            
            // Обработчики для табов
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    const tabId = tab.dataset.tab;
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === tabId) {
                            content.classList.add('active');
                        }
                    });
                });
            });
        });
        
        // Загрузка миссии
        function loadMission(index) {
            const mission = missions[index];
            originalTextEl.textContent = mission.text;
            
            // Очистка подсказок
            hintList.innerHTML = '';
            mission.hints.forEach(hint => {
                const li = document.createElement('li');
                li.textContent = hint;
                hintList.appendChild(li);
            });
            
            // Сброс полей
            literalTranslation.value = '';
            creativeTranslation.value = '';
            hintBox.classList.remove('show');
            
            // Сброс аудитории
            audienceBtns.forEach(btn => btn.classList.remove('active'));
            selectedAudience = null;
            
            // Скрытие сообщения об успехе
            successMessage.classList.add('hidden');
            nextBtn.style.display = 'none';
            submitBtn.style.display = 'inline-flex';
        }
        
        // Переключение подсказок
        function toggleHints() {
            hintBox.classList.toggle('show');
            hintBtn.innerHTML = hintBox.classList.contains('show') ? 
                '<i class="fas fa-lightbulb"></i> Скрыть подсказки' : 
                '<i class="fas fa-lightbulb"></i> Показать подсказки';
        }
        
        // Отправка миссии
        function submitMission() {
            if (!literalTranslation.value || !creativeTranslation.value) {
                alert('Пожалуйста, заполните оба варианта перевода!');
                return;
            }
            
            if (!selectedAudience) {
                alert('Пожалуйста, выберите целевую аудиторию для локализации!');
                return;
            }
            
            // Показываем анимацию загрузки
            submitBtn.innerHTML = '<i class="fas fa-spinner loading"></i> Отправка...';
            submitBtn.disabled = true;
            
            // Имитация отправки на сервер
            setTimeout(() => {
                // Успешное завершение
                submitBtn.style.display = 'none';
                nextBtn.style.display = 'inline-flex';
                successMessage.classList.remove('hidden');
                createConfetti();
                
                // Восстанавливаем кнопку
                submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Отправить миссию';
                submitBtn.disabled = false;
            }, 1500);
        }
        
        // Следующая миссия
        function nextMission() {
            currentMission = (currentMission + 1) % missions.length;
            loadMission(currentMission);
        }
        
        // Создание конфетти
        function createConfetti() {
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4CAF50', '#8BC34A', '#CDDC39', '#FFEB3B', '#FFC107', '#FF9800', '#FF5722'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = confetti.style.width;
                confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
                document.body.appendChild(confetti);
                
                // Удаляем конфетти после анимации
                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
        }
    </script>
</body>
</html>